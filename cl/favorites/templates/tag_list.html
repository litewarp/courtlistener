{% extends "base.html" %}
{% load extras %}
{% load text_filters %}
{% load render_bundle from webpack_loader %}

{% block title %}Tags for: {{ requested_user }} – CourtListener.com{% endblock %}
{% block og_title %}Tags for: {{ requested_user }} – CourtListener.com{% endblock %}
{% block description %}CourtListener lets you tag and share legal information. View the tags for {{ requested_user }}.{% endblock %}
{% block og_description %}CourtListener lets you tag and share legal information. View the tags for {{ requested_user }}.{% endblock %}
{% block og_image %}{% get_full_host %}{{ STATIC_URL }}png/og-image-tag-300x300.png{% endblock %}

{% block footer-scripts %}
  <script defer type="text/javascript" src="{{ STATIC_URL }}js/tag-utils.js?v=20200722"></script>
{% endblock %}



{% block sidebar %}{% endblock %}
{% block content %}
  <div class="hidden-xs hidden-sm col-md-1 col-lg-2"></div>
  <div class="col-xs-12 col-md-10 col-lg-8">
    {% if is_page_owner %}
      <h1><i class="fa fa-tags gray"></i>&nbsp;Your tags</h1>
    {% else %}
      <h1><i class="fa fa-tags gray"></i>&nbsp;Tags for {{ requested_user }}</h1>
    {% endif %}
    {% for tag in tags %}
      {% if forloop.first %}
        <div class="table-responsive">
          <table class="table settings-table tablesorter-bootstrap">
            <thead>
            <tr>
              <th>Name</th>
              <th>Title</th>
              <th>Created</th>
              <th>Views</th>
              {% if is_page_owner %}
                <th colspan="2">Published</th>
              {% endif %}
            </tr>
            </thead>
            <tbody>
      {% endif %}

      {# Normal row #}
      <tr>
        <td><a href="{% url "view_tag" requested_user tag.name %}" class="black-link"><span class="tag">{{ tag.name }}</span></a></td>
        <td>{{ tag.title|default:"(none)" }}</td>
        <td>{{ tag.date_created|date:"M j, Y"|nbsp }}</td>
        <td>{{ tag.view_count }}</td>
        {% if is_page_owner %}
          <td>{{ tag.published|yesno|capfirst }}</td>
          <td class="text-right">
            <button class="btn btn-primary btn-sm inline" data-tag-id="{{ tag.id }}"
               data-target="#modal-edit-delete" data-toggle="modal">
              <i class="fa fa-pencil"></i>&nbsp;Edit / Delete
            </button>
          </td>
         {% endif %}
      </tr>
      {% if forloop.last %}
            </tbody>
          </table>
        </div>
      {% endif %}
    {% empty %}
      {% if is_page_owner %}
        <h3>You do not have any tags.</h3>
      {% else %}
        <h3>{{ requested_user }} has not shared any tags.</h3>
      {% endif %}
    {% endfor %}
    <div class="modal hidden-print" role="dialog" id="modal-edit-delete">
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content"></div>
      </div>
    </div>
  </div>
{% endblock %}
